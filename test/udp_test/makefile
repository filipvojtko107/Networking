CC = g++
CC_FLAGS = -std=c++17 -Wall
DEFAULT_PATH = ../../
UDP_PATH = ../../udp/
CPP_FILES = parametres.cpp $(DEFAULT_PATH)socket.cpp $(DEFAULT_PATH)networking_error.cpp $(DEFAULT_PATH)netbase.cpp $(UDP_PATH)udp.cpp
ENDPOINT_1_CPP_FILE = endpoint_1.cpp
ENDPOINT_2_CPP_FILE = endpoint_2.cpp
ENDPOINT_1_TARGET = endpoint_1
ENDPOINT_2_TARGET = endpoint_2
ALL_TARGETS = $(ENDPOINT_1_TARGET) $(ENDPOINT_2_TARGET)


all: $(ALL_TARGETS)


$(ENDPOINT_1_TARGET): $(CPP_FILES) $(ENDPOINT_1_CPP_FILE)
	$(CC) -I$(DEFAULT_PATH) -I$(UDP_PATH) $(CC_FLAGS) $(CPP_FILES) $(ENDPOINT_1_CPP_FILE) -o $(ENDPOINT_1_TARGET)


$(ENDPOINT_2_TARGET): $(CPP_FILES) $(ENDPOINT_2_CPP_FILE)
	$(CC) -I$(DEFAULT_PATH) -I$(UDP_PATH) $(CC_FLAGS) $(CPP_FILES) $(ENDPOINT_2_CPP_FILE) -o $(ENDPOINT_2_TARGET)


clean:
	rm -f $(ALL_TARGETS)